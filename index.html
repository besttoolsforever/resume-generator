<!doctype html>
<html lang="en-US">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Resume Generator</title>
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/lipis/flag-icons@7.0.0/css/flag-icons.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>

  <!-- Scripts: Loaded sequentially to ensure dependencies -->
  <script src="assets/js/namespace.js"></script>
  <script src="assets/js/modules/state.js"></script>
  <script src="assets/js/modules/i18n.js"></script>
  <script src="assets/js/modules/render.js"></script>
  <script src="assets/js/modules/events.js"></script>
  <script src="assets/js/main.js"></script>
</head>

<body>
  <div class="app">
    <div class="panel">

      <div style="display:flex; justify-content:space-between; align-items:center;">
        <h3 data-i18n="ui_fill_fields">Fill in the fields</h3>
        <button id="settings-btn" class="btn-secondary" data-i18n="btn_settings">Settings</button>
      </div>

      <div style="margin-top:10px;">
        <button id="save-btn" class="btn-primary" style="width:100%; background:#2563eb;" data-i18n="btn_save">Save
          Data</button>
        <div style="display:flex; gap:8px; margin-top:8px;">
          <button id="backup-btn" class="btn-secondary" style="flex:1; font-size:12px;" data-i18n="btn_backup">Backup
            (JSON)</button>
          <button id="restore-btn" class="btn-secondary" style="flex:1; font-size:12px;"
            data-i18n="btn_restore">Restore</button>
        </div>
        <input type="file" id="import-file" style="display:none" accept=".json">
        <div style="margin-top:8px;">
          <button id="restore-test-btn" class="btn-secondary" style="width:100%; font-size:12px;"
            data-i18n="btn_restore_test">Restore Test Content</button>
        </div>
        <div style="margin-top:8px;">
          <button id="clear-btn" class="btn-danger" style="width:100%; font-size:12px;"
            data-i18n="btn_clear_content">Clear Content</button>
        </div>
      </div>

      <hr style="margin: 16px 0;" />

      <label data-i18n="ui_template">Template</label>
      <select id="template-select" style="margin-bottom:10px;">
        <option value="classic" data-i18n="tmpl_classic">Classic</option>
        <option value="professional" data-i18n="tmpl_professional">Professional</option>
        <option value="modern" data-i18n="tmpl_modern">Modern</option>
        <option value="banner" data-i18n="tmpl_banner">Creative</option>
        <option value="minimal" data-i18n="tmpl_minimal">Minimalist</option>
        <option value="elegant" data-i18n="tmpl_elegant">Elegant</option>
        <option value="compact" data-i18n="tmpl_compact">Compact</option>
        <option value="bold" data-i18n="tmpl_bold">Bold</option>
        <option value="timeline" data-i18n="tmpl_timeline">Timeline</option>
        <option value="nova" data-i18n="tmpl_nova">Nova</option>
        <option value="swiss" data-i18n="tmpl_swiss">Swiss</option>
        <option value="orbit" data-i18n="tmpl_orbit">Orbit</option>
      </select>

      <div style="margin-bottom:15px; text-align:right;">
        <button id="sections-btn" class="btn-secondary" style="font-size:12px; width:100%"
          data-i18n="ui_sections">Manage Sections (Reorder)</button>
      </div>

      <div style="margin-bottom:15px;">
        <button id="gen"
          style="background:#10b981;color:#fff;width:100%;font-size:14px;padding:8px;border-radius:6px;border:none;font-weight:600;cursor:pointer;"
          data-i18n="btn_gen">Generate Print</button>
      </div>

      <hr style="margin: 16px 0;" />

      <button id="reset-colors-btn" class="btn-secondary" style="width: 100%; margin-bottom: 10px;">
        <span data-i18n="btn_reset_colors">ðŸŽ¨ Restore Default Colors</span>
      </button>
      <hr style="margin: 10px 0;" />

      <h4 data-i18n="ui_appearance">Appearance</h4> <!-- ensure this translates -->

      <label data-i18n="ui_accent_color">Accent Color</label>
      <input id="accent" type="color">

      <div class="row">
        <div>
          <label data-i18n="ui_secondary_color">Secondary Color</label>
          <input id="color-secondary" type="color">
        </div>
        <div>
          <label data-i18n="ui_dark_bg">Dark Background</label>
          <input id="color-dark-bg" type="color">
        </div>
      </div>

      <label data-i18n="ui_light_bg">Light Background</label>
      <input id="color-light-bg" type="color">

      <div class="row">
        <div>
          <label data-i18n="ui_main_color">Main Text Color</label>
          <input id="color-main" type="color">
        </div>
        <div>
          <label data-i18n="ui_sidebar_color">Sidebar Text Color</label>
          <input id="color-sidebar" type="color">
        </div>
      </div>

      <label style="margin-top:15px;" data-i18n="ui_font_sizes">Font Sizes (px)</label>
      <div class="row">
        <div><label data-i18n="ui_font_name">Name</label> <input id="fs-name" type="number" min="10" step="1"></div>
        <div><label data-i18n="ui_font_titles">Titles</label> <input id="fs-title" type="number" min="8" step="1"></div>
      </div>
      <div class="row">
        <div><label data-i18n="ui_font_body">Body</label> <input id="fs-body" type="number" min="8" step="1"></div>
        <div><label data-i18n="ui_font_small">Small</label> <input id="fs-small" type="number" min="8" step="1"></div>
      </div>



      <label data-i18n="label_fullname">Full Name</label>
      <input id="input-name" type="text">

      <label data-i18n="label_age">Age</label>
      <input id="input-age" type="number">

      <label data-i18n="label_summary">Summary / Description</label>
      <textarea id="input-desc"></textarea>

      <div class="row">
        <div>
          <label data-i18n="label_city">City</label>
          <input id="input-city" type="text">
        </div>
        <div>
          <label data-i18n="label_phone">Phone</label>
          <input id="input-phone" type="text">
        </div>
      </div>

      <label data-i18n="label_email">Email</label>
      <input id="input-email" type="email">

      <label data-i18n="label_portfolio">Portfolio (GitHub URL, etc.)</label>
      <input id="input-github" type="url">

      <label data-i18n="label_portfolio_text">Portfolio Link Text (Optional)</label>
      <input id="input-github-label" type="text" data-i18n-placeholder="placeholder_github">

      <label data-i18n="label_additional">Additional Information</label>
      <textarea id="input-additional"></textarea>

      <hr style="margin: 16px 0;" />

      <!-- Dynamic Sections Forms will be rendered here -->
      <div id="dynamic-forms-container"></div>

      <div style="margin-top:20px; text-align:center;">
        <button id="add-new-section" class="btn-secondary" style="font-size:12px;" data-i18n="btn_add_section">+ Add New
          Section</button>
      </div>






    </div>

    <div class="preview-wrap">
      <div class="cv-a4" id="cv-a4">
        <div class="cv" id="cv">
          <div class="sidebar">
            <div class="name-block">
              <div class="name editable" id="cv-name" contenteditable="true"></div>
              <div class="surname editable" id="cv-surname" contenteditable="true"></div>
            </div>

            <div id="desc-section">
              <div class="section-title" id="title-desc">Description</div>
              <div class="desc editable" id="cv-desc" contenteditable="true"></div>
            </div>

            <div id="contact-section">
              <div class="section-title" id="title-personal">Personal Data</div>
              <div class="contact">
                <div class="contact-item" id="age-item"><span class="contact-label" data-i18n="contact_age">Age:</span>
                  <span class="editable" id="cv-age" contenteditable="true"></span>
                </div>
                <div class="contact-item" id="email-item"><span class="contact-label"
                    data-i18n="contact_email">Email:</span> <span class="editable" id="cv-email"
                    contenteditable="true"></span></div>
                <div class="contact-item" id="phone-item"><span class="contact-label"
                    data-i18n="contact_phone">Phone:</span> <span class="editable" id="cv-phone"
                    contenteditable="true"></span></div>
                <div class="contact-item" id="city-item"><span class="contact-label"
                    data-i18n="contact_city">City:</span> <span class="editable" id="cv-city"
                    contenteditable="true"></span></div>
              </div>
            </div>

            <div id="portfolio-section">
              <div class="section-title" id="title-portfolio">Portfolio</div>
              <a href="#" id="cv-github" class="icon-link" target="_blank" rel="noopener noreferrer">
                <svg viewBox="0 0 16 16">
                  <path
                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z">
                  </path>
                </svg>
                <span class="editable" id="cv-github-user" contenteditable="true"></span>
              </a>
            </div>

            <!-- New Section: Languages (Sidebar) -->
            <div id="langs-section" style="margin-top:15px;">
              <div class="section-title" id="title-langs">Languages</div>
              <div id="cv-langs"></div>
            </div>

            <div class="additional-info" id="additional-section">
              <div class="section-title" id="title-additional">Additional Info</div>
              <div class="editable" id="cv-additional" contenteditable="true"></div>
            </div>
          </div>

          <div class="main">
            <div id="cv-main-content"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div class="modal-overlay" id="settings-modal">
    <div class="modal">
      <div class="modal-header">
        <h3 data-i18n="modal_settings">Settings</h3>
        <button class="close-modal">âœ•</button>
      </div>
      <label data-i18n="modal_lang">Language</label>
      <div id="lang-options" class="lang-grid">
        <button class="lang-btn" data-lang="en-US"><span class="fi fi-us"></span> English</button>
        <button class="lang-btn" data-lang="pt-BR"><span class="fi fi-br"></span> PortuguÃªs</button>
        <button class="lang-btn" data-lang="es-ES"><span class="fi fi-es"></span> EspaÃ±ol</button>
        <button class="lang-btn" data-lang="fr-FR"><span class="fi fi-fr"></span> FranÃ§ais</button>
        <button class="lang-btn" data-lang="de-DE"><span class="fi fi-de"></span> Deutsch</button>
        <button class="lang-btn" data-lang="it-IT"><span class="fi fi-it"></span> Italiano</button>
      </div>
      <div style="margin-top:20px; text-align:right;">
        <button class="btn-primary close-modal" data-i18n="modal_close">Close</button>
      </div>
    </div>
  </div>

  <!-- Reorder Modal -->
  <div class="modal-overlay" id="sections-modal">
    <div class="modal">
      <div class="modal-header">
        <h3 data-i18n="modal_sections_title">Reorder Sections</h3>
        <button class="close-modal">âœ•</button>
      </div>
      <p style="font-size:12px;color:#666;margin-bottom:10px;" data-i18n="msg_drag_reorder">Drag to reorder.</p>
      <div id="sections-sortable" class="sections-list" style="margin-bottom:20px;">
        <!-- Dynamic Items -->
      </div>
      <div style="text-align:right;">
        <button class="btn-primary close-modal" data-i18n="modal_close">Close</button>
      </div>
    </div>
  </div>

</body>

</html>